<div class="page-wrapper">
  <form class="store-picker-form">
    <mat-form-field class="form-field-full-width">
      <mat-label>Where are you shopping?</mat-label>
      <input type="text"
             placeholder="Pick one"
             aria-label="Where are you shopping?"
             matInput
             [formControl]="storeControl"
             [matAutocomplete]="auto">
      <mat-autocomplete #auto="matAutocomplete" [displayWith]="displaySelectedStore">
        @for (store of filteredOptions | async; track store) {
          <mat-option [value]="store">
            <div class="row store-selection-wrapper">
              <div class="col-4">
                <img src="{{store.storeLogo}}" alt="{{store.storeName}}">
              </div>
              <div class="col-8">
                <strong>{{store.storeName}}</strong><br />
                {{store.storeLocationStreet}}, {{store.storeLocationTown}}, {{store.storeLocationState}}
              </div>
            </div>
          </mat-option>
        }
      </mat-autocomplete>
    </mat-form-field>
    <div class="create-list" [ngClass]="{'showing': storeControl.value}">
      <button mat-fab extended color="primary" type="button" (click)="generateList(storeControl.value)">
        <mat-icon>add_shopping_cart</mat-icon>
        Create list for this store
      </button>
    </div>
  </form>
</div>
